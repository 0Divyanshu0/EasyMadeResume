<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyMadeResume</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
    @keyframes moving-gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    .header {
        background: linear-gradient(270deg, #3a3a3a, #2a2a2a, #3a3a3a);
        background-size: 600% 600%;
        animation: moving-gradient 8s ease infinite;
        padding: 20px;
        color: #ff9800;
        text-align: center;
        position: relative;
        overflow: hidden;
    }

    .brand-name {
        font-family: 'Montserrat', sans-serif;
        font-size: 36px;
        font-weight: bold;
        letter-spacing: 2px;
        color: #ff9800;
        margin: 0;
        display: inline-block; /* Allows text-align: center on the parent to work */
    }

    .social-icons {
        position: absolute;
        top: 15px;
        right: 20px;
        display: flex;
        gap: 20px;
        margin-bottom: 30px; /* Add vertical gap below icons */
    }

    .social-icons a {
        color: #ff9800;
        text-decoration: none;
        font-size: 24px;
        transition: transform 0.3s ease, color 0.3s ease;
    }

    .social-icons a:hover {
        transform: scale(1.3);
        color: #e68900;
    }

    .header-buttons {
        position: absolute;
        top: 60px; /* Adjust as needed based on icon size and desired gap */
        right: 20px;
        display: flex; /* Arrange buttons horizontally */
    }

    .header-buttons button {
        background: #ff9800;
        border: none;
        padding: 12px 25px;
        color: white;
        cursor: pointer;
        border-radius: 5px;
        margin-left: 10px; /* Space between buttons */
        transition: 0.3s;
        font-size: 16px;
        font-family: 'Montserrat', sans-serif;
        transition: transform 0.2s ease-in-out;
    }

    .header-buttons button:hover {
        transform: scale(1.05);
        background-color: #e68900;
    }

    body {
        font-family: 'Raleway', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f9f5eb;
        color: #333;
        text-align: center;
    }

    .container h2 {
        font-family: 'Montserrat', sans-serif;
        font-size: 28px;
        color: #ff9800;
        margin-bottom: 10px;
    }

    .container {
        max-width: 600px;
        margin: 25px auto;
        padding: 30px;
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        padding-bottom: 80px; /* Added padding to prevent footer overlap */
    }

    .step {
        display: none;
    }

    .active {
        display: block;
        animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .progress {
        width: 100%;
        background: #ddd;
        height: 25px;
        margin-bottom: 20px;
        border-radius: 4px;
        overflow: hidden;
        position: relative;
    }

    .progress-bar {
        width: 0%;
        height: 100%;
        background: #ff9800;
        transition: width 0.3s ease;
        position: relative;
    }

    .progress-percentage {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-weight: bold;
    }

    input, textarea {
        width: 90%;
        padding: 10px;
        margin: 10px 0;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 16px;
        background: #f4f4f4;
        color: #333;
    }

    button {
        background: #ff9800;
        border: none;
        padding: 12px 25px;
        color: white;
        cursor: pointer;
        border-radius: 5px;
        margin-top: 10px;
        transition: 0.3s;
        font-size: 16px;
        font-family: 'Montserrat', sans-serif;
        transition: transform 0.2s ease-in-out;
    }

    button:hover {
        transform: scale(1.05);
        background-color: #e68900;
    }

    .footer {
        font-family: 'Raleway', sans-serif;
        background: #3a3a3a;
        color: white;
        padding: 20px;
        margin-top: 40px;
        text-align: center;
        font-size: 16px;
        position: fixed;
        width: 100%;
        bottom: 0;
    }

    input.error {
        border-color: red;
    }

    .error-message {
        color: red;
        font-size: 0.8em;
        display: block;
    }

    .resume-template {
        border: 1px solid #ccc;
        padding: 20px;
        margin-top: 20px;
        text-align: left;
    }

    .resume-template h3 {
        border-bottom: 1px solid #ddd;
        padding-bottom: 5px;
    }
    @media (max-width: 600px) {
        input, button {
            width: 100%;
        }
    }

    /* Template 1 styles */
    .template1 h3 {
        font-family: serif;
        border-bottom: 2px solid var(--primary-color, #ff9800);
    }

    /* Template 2 styles */
    .template2 h3 {
        font-family: sans-serif;
        background-color: var(--primary-color, #ff9800);
        color: white;
        padding: 5px;
    }

    /* Color customization */
    .custom-color {
        color: var(--primary-color, #ff9800);
    }

    /* Template Preview (Basic) */
    .template-preview {
        border: 1px solid #ccc;
        padding: 10px;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
    }

    .template-preview.template1 {
        height: 50px;
        background: linear-gradient(to right, #f0f0f0, #e0e0e0);
        justify-content: space-between;
    }

    .template-preview.template2 {
        height: 50px;
        background: linear-gradient(to right, #e0f0ff, #c0e0ff);
        flex-direction: column;
        align-items: flex-start;
        justify-content: space-around;
    }

    .template-preview.template1::before,
    .template-preview.template1::after,
    .template-preview.template2::before,
    .template-preview.template2::after {
        content: '';
        width: 20px;
        height: 10px;
        background: #bbb;
        border-radius: 3px;
    }

    /* Color Picker Styling */
    #colorPicker {
    width: 40px;
    height: 40px;
    border: none;
    padding: 0;
    margin: 10px;
    border-radius: 50%;
    cursor: pointer;
    appearance: none; /* Remove default styling */
    -webkit-appearance: none;
    -moz-appearance: none;
    background-color: #ff9800; /* Initial color */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    #colorPicker::-webkit-color-swatch-wrapper {
    padding: 0;
    }

    #colorPicker::-webkit-color-swatch {
    border: none;
    border-radius: 50%;
    }

    /* Mobile Responsive Styles */
@media (max-width: 768px) {
    /* Header Adjustments */
    .header {
        flex-direction: column; /* Stack header elements */
        align-items: center; /* Center items horizontally */
        padding: 15px; /* Adjust header padding */
    }

    .brand-name {
        font-size: 28px; /* Smaller brand name */
        margin-bottom: 10px; /* Add space below brand */
    }

    .social-icons {
        position: static; /* Flow with content */
        display: flex;
        justify-content: center; /* Center icons */
        margin-bottom: 10px;
    }

    .header-buttons {
        position: static; /* Flow with content */
        display: flex;
        flex-direction: column; /* Stack buttons */
        align-items: stretch; /* Make buttons full width */
        width: 80%; /* Limit button width */
        margin: 10px auto; /* Center buttons and add spacing */
    }

    .header-buttons button {
        margin: 5px 0; /* Vertical spacing for buttons */
    }

    /* Main Content (.container) */
    .container {
        flex-direction: column; /* Stack description and preview */
        padding: 15px;
    }

    .description,
    .resume-preview {
        width: 100%; /* Full width on mobile */
        max-width: 100%;
        margin-bottom: 20px; /* Spacing between stacked elements */
        text-align: center; /* Center text in description */
    }

    .resume-preview img {
        max-width: 90%; /* Adjust image width */
        height: auto;
    }

    /* How It Works Section */
    .how-it-works {
        padding: 15px;
    }

    .steps-container {
        flex-direction: column; /* Stack steps */
    }

    .step {
        width: 100%; /* Full width for steps */
        margin-bottom: 20px;
        text-align: center;
    }

    .step img {
        max-width: 60px; /* Adjust step icon size */
        height: auto;
        margin-bottom: 10px;
    }

    /* Footer */
    .footer {
        position: static; /* Flow with content */
        margin-top: 20px;
        padding: 10px;
        font-size: 14px;
    }
}

/* Smaller Mobile Devices */
@media (max-width: 480px) {
    .brand-name {
        font-size: 24px;
    }

    .header-buttons {
        width: 95%;
    }

    .header-buttons button {
        font-size: 14px;
        padding: 10px 15px;
    }

    .container {
        padding: 10px;
    }

    .description p {
        font-size: 16px;
    }

    .how-it-works h2 {
        font-size: 20px;
    }

    .step h3 {
        font-size: 16px;
    }

    .step p {
        font-size: 14px;
    }

    .footer {
        font-size: 12px;
    }
}
.info-note {
    font-size: 14px;
    color: #555;
    background-color: #f1f1f1;
    border-left: 4px solid #ff9800;
    padding: 10px 15px;
    margin-top: 15px;
    border-radius: 5px;
    text-align: left;
}
</style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="header">
        <h1>EasyMadeResume</h1>
        <div class="header-buttons">
            <button onclick="location.href='index.html'">Home</button>
            <button onclick="location.href='contact_us.html'">Contact Us</button>
        </div>
        <div class="social-icons">
            <a href="https://www.linkedin.com/in/divyanshu-srivastava-564a32230/" title="LinkedIn" target="_blank"><i class="fab fa-linkedin"></i></a>
            <a href="https://github.com/0Divyanshu0" title="GitHub" target="_blank"><i class="fab fa-github"></i></a>
            <a href="https://www.instagram.com/divyanshu____srivastava?igsh=MWRnYmRvYXppdnloYw==" title="Instagram" target="_blank"><i class="fab fa-instagram"></i></a>
        </div>
    </div>

<div class="container">
    <select id="templateSelector">
        <option value="template1">Classic Template</option>
        <option value="template2">Modern Template</option>
    </select>

    <label for="colorPicker">Choose Theme Color:</label>
    <input type="color" id="colorPicker" value="#ff9800">

    <div class="template-preview template1" onclick="selectTemplate('template1')">
    <strong>Classic Template</strong>
    </div>
    <div class="template-preview template2" onclick="selectTemplate('template2')">
    <strong>Modern Template</strong>
    </div>


    <div class="progress">
        <div class="progress-bar" id="progressBar">
            <span class="progress-percentage" id="progressPercentage">0%</span>
        </div>
    </div>

    <h2>Get Started</h2>
    <div class="form-steps"> <div class="step active" id="step1">
            <p>Step 1: Personal Information</p>
            <input type="text" id="name" placeholder="Full Name" required title="Enter your full name"><br>
            <input type="email" id="email" placeholder="Email" required title="Enter your email address"><br>
            <input type="text" id="phone" placeholder="Phone" required title="Enter your phone number"><br>
            <div id="linksContainer">
            <div class="link-group">
            <input type="text" placeholder="Platform (e.g., GitHub)" class="platform" required>
            <input type="url" placeholder="URL (e.g., https://github.com/username)" class="professional-link" required>
        </div>
    </div>
    <button type="button" onclick="addProfessionalLink()">+ Add Another Link</button>
    <button onclick="nextStep(1)">Next</button>
    <button type="button" onclick="hardResetForm()">Hard Reset</button>

</div>

        <div class="step" id="step2">
        <p>Step 2: Work Experience</p>
        <div id="experienceContainer">
        <div class="experience-entry">
        <input type="text" id="jobTitle" placeholder="Job Title" required>
        <input type="text" id="company" placeholder="Company" required>
        <input type="text" id="duration" placeholder="Duration" required>
        </div>
        </div>

        <button type="button" onclick="addExperience()">+ Add Another Experience</button><br><br>
        <button onclick="prevStep(2)">Back</button>
        <button onclick="nextStep(2)">Next</button>
        <button type="button" onclick="hardResetForm()">Hard Reset</button>


        </div>
        <div class="step" id="step3">
            <p>Step 3: Education</p>
            <div id="education-container">
            <div class="education-entry">
            <input type="text" name="degree" placeholder="Degree" required>
            <input type="text" name="institution" placeholder="Institution" required>
            <input type="date" name="year" required>
        </div>
</div>
<button type="button" onclick="addEducation()">+ Add another education</button>

            <textarea id="summary" placeholder="Summary/Objective" title="Enter summary or objective"></textarea><br>
            <button onclick="prevStep(3)">Back</button>
            <button onclick="nextStep(3)">Next</button>
            <button type="button" onclick="hardResetForm()">Hard Reset</button>
        </div>
        <div class="step" id="step4">
            <p>Step 4: Skills</p>
            <input type="text" id="skills" placeholder="Skills (comma-separated)" title="Enter your skills, comma separated"><br>
            <button onclick="prevStep(4)">Back</button>
            <button onclick="nextStep(4)">Next</button>
            <button type="button" onclick="hardResetForm()">Hard Reset</button>
        </div>
    <div class="step" id="step5">
    <p>Step 5: Projects/Portfolio</p>
    <div id="projectsContainer">
        <div class="project-entry">
            <input type="text" class="project-title" placeholder="Project Title" title="Enter project title" required><br>
            <textarea class="project-description" placeholder="Project Description" title="Enter project description" required></textarea><br>
            <input type="text" class="project-technologies" placeholder="Technologies Used" title="Enter technologies used" required><br>
        </div>
    </div>
    <button type="button" onclick="addProject()">Add Another Project</button><br>
    <button onclick="prevStep(5)">Back</button>
    <button id="downloadResume">Download</button>
    <button id="downloadPDF">Export as PDF</button>
    <button onclick="resetForm()">Start Over</button>
    <button type="button" onclick="hardResetForm()">Hard Reset</button>

    <p class="info-note">
    <strong>Note:</strong> Clicking <em>Download</em> will export plain text (great for ATS systems). 
    Clicking <em>Export as PDF</em> will include full resume layout with styling.
</p>

</div>


    </div>
    
    <div class="resume-preview">
        <h3>Live Preview</h3>
        <div class="resume-template">
            <div id="resumeName" class="custom-color"></div>
            <div id="resumeEmail"></div>
            <div id="resumePhone"></div>
            <div id="resumeLinks"></div>
            <div id="resumeExperience"></div>
            <div id="resumeEducation"></div>
            <div id="resumeSkills"></div>
            <div id="resumeProjects"></div>
            <div id="resumeSummary"></div>
        </div>
    </div>
</div>
    <div class="footer">
        <p>&copy; 2024 EasyMadeResume. All rights reserved.</p>
    </div>
<script>
    let currentStep = 1;
    const totalSteps = 5;
    let previousStep = 0;

    function nextStep(step) {
        let inputs = document.querySelectorAll(`#step${step} input[required], #step${step} textarea[required]`); // Include textareas
        let allFieldsFilled = true;
        let firstEmptyInput = null;

        inputs.forEach(input => {
            input.classList.remove('error');
            const errorSpan = document.getElementById(input.id + '-error');
            if (errorSpan) {
                errorSpan.remove();
            }
        });

        for (let input of inputs) {
            if (!input.value.trim()) {
                allFieldsFilled = false;
                input.classList.add('error');
                const errorSpan = document.createElement('span');
                errorSpan.id = input.id + '-error';
                errorSpan.className = 'error-message';
                errorSpan.textContent = 'This field is required.';
                input.parentNode.appendChild(errorSpan);
                if (!firstEmptyInput) {
                    firstEmptyInput.focus();
                }
            }
        }

        if (!allFieldsFilled) {
            if (firstEmptyInput) {
                firstEmptyInput.focus();
            }
            return;
        }

        document.getElementById(`step${step}`).classList.remove("active");
        document.getElementById(`step${step + 1}`).classList.add("active");
        currentStep++;
        updateProgressBar();
        updateLivePreview();
    }

    function prevStep(step) {
        document.getElementById(`step${step}`).classList.remove("active");
        document.getElementById(`step${step - 1}`).classList.add("active");
        currentStep--;
        updateProgressBar();
    }

    function updateProgressBar() {
        const progressBar = document.getElementById("progressBar");
        const progress = (currentStep - 1) / (totalSteps - 1) * 100;

        if (currentStep === 6) {
            document.getElementById("progressPercentage").textContent = "Almost Done!";
        } else {
            progressBar.style.width = `${progress}%`;
            document.getElementById("progressPercentage").textContent = `${Math.round(progress)}%`;
        }
    }


    const templateSelector = document.getElementById("templateSelector");
    const colorPicker = document.getElementById("colorPicker");

    templateSelector.addEventListener("change", function () {
        const selectedTemplate = this.value;
        document.querySelector('.resume-template').className = `resume-template ${selectedTemplate}`;
    });

    colorPicker.addEventListener("input", function () {
        document.documentElement.style.setProperty('--primary-color', this.value);
    });


    window.addEventListener('beforeunload', function (e) {
    // Only show warning if autosave is not available or not yet triggered
    const isFormDirty = [...document.querySelectorAll('input, textarea')].some(input => input.value.trim());
    const hasSavedData = localStorage.getItem('resumeFormData');

    if (isFormDirty && !hasSavedData) {
        e.preventDefault();
        e.returnValue = '';
    }
    });


    function updateLivePreview() {
    const name = document.getElementById("name")?.value || "";
    const email = document.getElementById("email")?.value || "";
    const phone = document.getElementById("phone")?.value || "";
    const skills = document.getElementById("skills")?.value || "";
    const summary = document.getElementById("summary")?.value || "";
    const projectTitle = document.getElementById("projectTitle")?.value || "";
    const projectDescription = document.getElementById("projectDescription")?.value || "";
    const projectTechnologies = document.getElementById("projectTechnologies")?.value || "";

    // ðŸ”— Handle multiple professional links
    const links = document.querySelectorAll(".link-group");
    let linksHTML = "";
    links.forEach(link => {
    const platform = link.querySelector(".platform")?.value.trim();
    const url = link.querySelector(".professional-link")?.value.trim();
    if (platform && url) {
        linksHTML += `<p>${platform}: <a href="${url}" target="_blank">${url}</a></p>`;
    }
    });
    document.getElementById("resumeLinks").innerHTML = linksHTML
    ? `<h3>Professional Links</h3>${linksHTML}`
    : "";

    // ðŸ’¼ Handle multiple work experience
    const experienceEntries = document.querySelectorAll(".experience-entry");
    let experienceHTML = `<h3>Work Experience</h3>`;
    if (experienceEntries.length > 0) {
        experienceEntries.forEach(entry => {
            const job = entry.querySelector('input[placeholder="Job Title"]')?.value || "";
            const company = entry.querySelector('input[placeholder="Company"]')?.value || "";
            const duration = entry.querySelector('input[placeholder="Duration"]')?.value || "";
            if (job || company || duration) {
                experienceHTML += `<p>${job}, ${company}, ${duration}</p>`;
            }
        });
    } else {
        const jobTitle = document.getElementById("jobTitle")?.value || "";
        const company = document.getElementById("company")?.value || "";
        const duration = document.getElementById("duration")?.value || "";
        if (jobTitle || company || duration) {
            experienceHTML += `<p>${jobTitle}, ${company}, ${duration}</p>`;
        }
    }

    // ðŸŽ“ Handle multiple education entries
    const educationContainer = document.querySelectorAll('.education-entry');
    let educationHTML = `<h3>Education</h3>`;
    if (educationContainer.length > 0) {
        educationContainer.forEach(entry => {
            const degree = entry.querySelector('[name="degree"]')?.value || "";
            const institution = entry.querySelector('[name="institution"]')?.value || "";
            const year = entry.querySelector('[name="year"]')?.value || "";
            if (degree || institution || year) {
                educationHTML += `<p>${degree}, ${institution}, ${year}</p>`;
            }
        });
    } else {
        const fallbackDegree = document.getElementById("degree")?.value || "";
        const fallbackInstitution = document.getElementById("institution")?.value || "";
        const fallbackYear = document.getElementById("year")?.value || "";
        if (fallbackDegree || fallbackInstitution || fallbackYear) {
            educationHTML += `<p>${fallbackDegree}, ${fallbackInstitution}, ${fallbackYear}</p>`;
        }
    }

    // ðŸ§¾ Update DOM
    document.getElementById("resumeName").innerHTML = `<h3>${name}</h3>`;
    document.getElementById("resumeEmail").innerHTML = `<p>Email: ${email}</p>`;
    document.getElementById("resumePhone").innerHTML = `<p>Phone: ${phone}</p>`;
    document.getElementById("resumeExperience").innerHTML = experienceHTML;
    document.getElementById("resumeEducation").innerHTML = educationHTML;
    document.getElementById("resumeSkills").innerHTML = `<h3>Skills</h3><p>${skills}</p>`;
    document.getElementById("resumeSummary").innerHTML = `<h3>Summary</h3><p>${summary}</p>`;
    document.getElementById("resumeProjects").innerHTML = `<h3>Projects</h3><p><strong>${projectTitle}:</strong> ${projectDescription} (Technologies: ${projectTechnologies})</p>`;
    
    // âœ… Inject professional links below personal info
    const resumeLinks = document.getElementById("resumeLinks");
    if (resumeLinks) {
        resumeLinks.innerHTML = `<h3>Professional Links</h3>${linksHTML}`;
    }
    const projectEntries = document.querySelectorAll('.project-entry');
let projectsHTML = `<h3>Projects</h3>`;

projectEntries.forEach(entry => {
    const title = entry.querySelector('.project-title')?.value || '';
    const desc = entry.querySelector('.project-description')?.value || '';
    const tech = entry.querySelector('.project-technologies')?.value || '';
    if (title || desc || tech) {
        projectsHTML += `<p><strong>${title}</strong>: ${desc} (Technologies: ${tech})</p>`;
    }
});
document.getElementById("resumeProjects").innerHTML = projectsHTML;

}


    document.querySelectorAll('input, textarea').forEach(input => {
        input.addEventListener('input', updateLivePreview);
    });

        document.getElementById('downloadResume').addEventListener('click', function() {
        // Generate the resume content
        const resumeContent = document.querySelector('.resume-template').innerText;

        // Create a blob from the text
        const blob = new Blob([resumeContent], { type: 'text/plain' });

        // Create an object URL from the blob
        const url = URL.createObjectURL(blob);

        // Create a link element
        const a = document.createElement('a');
        a.href = url;
        a.download = 'resume.txt'; // Set the file name
        document.body.appendChild(a); // Append the link to the body
        a.click(); // Simulate a click on the link
        document.body.removeChild(a); // Remove the link from the body
        URL.revokeObjectURL(url); // Clean up the URL object
    });
document.addEventListener('DOMContentLoaded', function () {
    const downloadBtn = document.getElementById('downloadPDF');
    if (downloadBtn) {
        downloadBtn.addEventListener('click', async () => {
            const resume = document.querySelector('.resume-template');
            if (!resume) return alert("Resume preview not found!");

            const canvas = await html2canvas(resume, { scale: 2 });
            const imgData = canvas.toDataURL('image/png');
            const pdf = new jspdf.jsPDF('p', 'mm', 'a4');
            const pdfWidth = pdf.internal.pageSize.getWidth();
            const pdfHeight = (canvas.height * pdfWidth) / canvas.width;

            pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
            pdf.save('resume.pdf');
        });
    }

    // ðŸŸ¢ Load saved form data if exists
    function loadFormData() {
        const saved = localStorage.getItem('resumeFormData');
        if (!saved) return;

        try {
            const data = JSON.parse(saved);
            for (let key in data) {
                const element = document.getElementById(key);
                if (element) {
                    element.value = data[key];
                }
            }
            updateLivePreview();
        } catch (e) {
            console.warn("Failed to restore form data", e);
        }
    }

    loadFormData();
});


    function selectTemplate(templateName) 
    {
    document.getElementById("templateSelector").value = templateName;
    templateSelector.dispatchEvent(new Event("change")); // trigger style update
    }
    function resetForm() {
    localStorage.removeItem('resumeFormData');
    document.querySelectorAll('input, textarea').forEach(input => input.value = '');
    document.querySelectorAll('.resume-template > div').forEach(div => div.innerHTML = '');
    currentStep = 1;
    document.querySelectorAll('.step').forEach(step => step.classList.remove('active'));
    document.getElementById('step1').classList.add('active');
    updateProgressBar();
    }
    function addProfessionalLink() {
    const linksContainer = document.getElementById("linksContainer");

    const group = document.createElement("div");
    group.className = "link-group";

    group.innerHTML = `
        <input type="text" placeholder="Platform (e.g., GitHub)" class="platform" required>
        <input type="url" placeholder="URL (e.g., https://github.com/username)" class="professional-link" required>
        <button type="button" class="remove-link" style="margin-left: 10px;">Remove</button>
        <br>
    `;

    // Attach event listener for Remove button
    group.querySelector(".remove-link").addEventListener("click", function () {
        group.remove();
        updateLivePreview();
    });

    // Bind live update to both inputs
    group.querySelectorAll("input").forEach(input => {
        input.addEventListener("input", updateLivePreview);
    });

    linksContainer.appendChild(group);
}

    document.querySelectorAll('.professional-link, .platform').forEach(input => {
    input.addEventListener('input', updateLivePreview);
    });


    function addExperience() {
    const container = document.getElementById("experienceContainer");
    const div = document.createElement("div");
    div.className = "experience-entry";
    div.innerHTML = `
        <input type="text" placeholder="Job Title" required>
        <input type="text" placeholder="Company" required>
        <input type="text" placeholder="Duration" required>
        <button type="button" onclick="removeExperience(this)">Remove</button><br><br>
    `;
    container.appendChild(div);

    // Bind input listeners to update preview
    div.querySelectorAll("input").forEach(input => {
        input.addEventListener("input", updateLivePreview);
    });
    }

    function removeExperience(button) {
    const entry = button.parentElement;
    entry.remove();
    updateLivePreview(); // ðŸ’¡ Recalculate the preview immediately after removal
    }

    function addEducation() {
    const container = document.getElementById("education-container");

    const entry = document.createElement("div");
    entry.classList.add("education-entry");
    entry.innerHTML = `
        <input type="text" name="degree" placeholder="Degree" required>
        <input type="text" name="institution" placeholder="Institution" required>
        <input type="date" name="year" required>
        <button type="button" onclick="removeField(this)">Remove</button>
    `;
    container.appendChild(entry);

    // Bind input listeners to update preview
    document.querySelectorAll('input, textarea').forEach(input => {
    input.addEventListener('input', () => {
        updateLivePreview();
        saveFormData(); // ðŸŸ  Save on every keystroke
    });
});

    }
    function removeField(button) {
    button.parentElement.remove();
    updateLivePreview(); // ðŸ”„ Make sure preview updates
    }
    function addProject() {
    const container = document.getElementById("projectsContainer");
    const div = document.createElement("div");
    div.className = "project-entry";
    div.innerHTML = `
        <input type="text" class="project-title" placeholder="Project Title" required><br>
        <textarea class="project-description" placeholder="Project Description" required></textarea><br>
        <input type="text" class="project-technologies" placeholder="Technologies Used" required><br>
        <button type="button" onclick="removeProject(this)">Remove</button><br><br>
    `;
    container.appendChild(div);

    // Live preview binding
    div.querySelectorAll("input, textarea").forEach(input => {
        input.addEventListener("input", updateLivePreview);
    });
    }

    function removeProject(button) {
    const projectEntry = button.parentElement;
    projectEntry.remove();
    updateLivePreview();
    }
    function saveFormData() {
    const formData = {};

    document.querySelectorAll('input, textarea').forEach(input => {
        if (input.id) {
            formData[input.id] = input.value;
        }
    });

    localStorage.setItem('resumeFormData', JSON.stringify(formData));
}

    function loadFormData() {
    const savedData = localStorage.getItem('resumeFormData');
    if (!savedData) return;

    const formData = JSON.parse(savedData);
    Object.entries(formData).forEach(([id, value]) => {
        const input = document.getElementById(id);
        if (input) input.value = value;
    });

    updateLivePreview();
    }
    // âœ… AUTO SAVE on every input change
    document.querySelectorAll('input, textarea').forEach(input => {
    input.addEventListener('input', () => {
        const data = {};
        document.querySelectorAll('input, textarea').forEach(field => {
            if (field.id) {
                data[field.id] = field.value;
            }
        });
        localStorage.setItem('resumeFormData', JSON.stringify(data));
    });
});
function hardResetForm() {
    // Clear all inputs and textareas
    document.querySelectorAll('input, textarea').forEach(input => input.value = '');

    // Clear dynamic sections
    document.getElementById("linksContainer")?.replaceChildren();
    document.getElementById("experienceContainer")?.replaceChildren();
    document.getElementById("education-container")?.replaceChildren();
    document.getElementById("projectsContainer")?.replaceChildren();

    // Add back one default input for each dynamic section
    addProfessionalLink();
    addExperience();
    addEducation();
    addProject();

    // Clear resume preview
    document.querySelectorAll('.resume-template > div').forEach(div => div.innerHTML = '');

    // Reset progress and step
    currentStep = 1;
    document.querySelectorAll('.step').forEach(step => step.classList.remove('active'));
    document.getElementById('step1').classList.add('active');
    updateProgressBar();

    // Clear localStorage
    localStorage.removeItem('resumeFormData');

    // Update live preview
    updateLivePreview();
}
</script>
</body>
</html>
